\begin{section}{Compositions and Inverses}

\begin{definition}
If $f:X\to Y$ and $g:Y\to Z$ are functions, then a new function $g\circ f:X\to Z$ can be defined by $(g\circ f)(x)=g(f(x))$ for all $x\in\dom(f)$.
\end{definition}

\begin{remark}
It is important to notice that the function on the right is the one that ``goes first.''
\end{remark}

\begin{exercise}
In each case, give examples of finite sets $X$, $Y$, and $Z$, and functions $f:X\to Y$ and $g:Y\to Z$ that satisfy the given conditions.  Drawing bubble diagrams is sufficient.
\begin{enumerate}
\item $f$ is onto, but $g\circ f$ is not onto.
\item $g$ is onto, but $g\circ f$ is not onto.
\item $f$ is one-to-one, but $g\circ f$ is not one-to-one.
\item $g$ is one-to-one, but $g\circ f$ is not.
\end{enumerate}
\end{exercise}

\begin{theorem}[*]
If $f:X\to Y$ and $g:Y\to Z$ are both functions that are onto, then $g\circ f$ is also onto.
\end{theorem}

\begin{theorem}[*]
If $f:X\to Y$ and $g:Y\to Z$ are both functions that are one-to-one, then $g\circ f$ is also one-to-one.
\end{theorem}

\begin{corollary}
If $f:X\to Y$ and $g:Y\to Z$ are both one-to-one correspondences, then $g\circ f$ is also a one-to-one correspondence.
\end{corollary}

\begin{problem}
Assume that $f:X\to Y$ and $g:Y\to Z$ are both functions.  For each of the following statements, if the statement is true, then prove it.  If the statement is false, provide a counterexample.
\begin{enumerate}
\item If $g\circ f$ is one-to-one, then $f$ is one-to-one.
\item If $g\circ f$ is one-to-one, then $g$ is one-to-one.
\item If $g\circ f$ is onto, then $f$ is onto.
\item If $g\circ f$ is onto, then $g$ is onto.
\end{enumerate}
\end{problem}

\begin{definition}
Let $f:X\to Y$ be a function.  The relation $f^{-1}$, called \textbf{$f$ inverse}, is defined via
\[
f^{-1}=\{(f(x),x):x\in X\}.
\]
\end{definition}

\begin{remark}
Notice that we called $f^{-1}$ a relation and not a function.  In some circumstances $f^{-1}$ will be a function and sometimes it won't be.
\end{remark}

\begin{exercise}
Provide an example of a function $f:X\to Y$ such that $f^{-1}$ is \emph{not} a function.  A bubble diagram is sufficient.
\end{exercise}

\begin{exercise}
Provide an example of a function $f:X\to Y$ such that $f^{-1}$ is a function. A bubble diagram is sufficient.
\end{exercise}

\begin{theorem}[*]
Let $f:X\to Y$ be a function.  Then $f^{-1}$ is a function iff $f$ is
\blank{1.5in}.
\end{theorem}

\begin{theorem}[*]\label{thm:comp of inverses}
Let $f:X\to Y$ be a function and suppose that $f^{-1}$ is a function.  Then
\begin{enumerate}
\item $(f\circ f^{-1})(x)=x$ for all $x\in Y$, and
\item $(f^{-1}\circ f)(x)=x$ for all $x\in X$.
\end{enumerate}
(You only need to prove one of these statements; the other is similar.)
\end{theorem}

\begin{theorem}[*]\label{thm:unique inverse}
Let $f:X\to Y$ and $g:Y\to X$ be functions such that $f$ is a one-to-one correspondence.  If $(f\circ g)(x)=x$ for all $x\in Y$ and $(g\circ f)(x)=x$ for all $x\in X$, then $g=f^{-1}$.
\end{theorem}

\begin{remark}
The upshot of the previous two theorems is that if $f^{-1}$ is a function, then it is the only one satisfying the two-sided ``undoing'' property exhibited in Theorem \ref{thm:comp of inverses}.
\end{remark}

The next theorem can be considered to be a converse of Theorem \ref{thm:unique inverse}.

\begin{theorem}[*]
Let $f:X\to Y$ and $g:Y\to X$ be functions satisfying $(f\circ g)(x)=x$ for all $x\in Y$ and $(g\circ f)(x)=x$ for all $x\in X$.  Then $f$ is a one-to-one correspondence.
\end{theorem}

\begin{theorem}[*]
Let $f:X\to Y$ and $g:Y\to Z$ be functions.  If $f$ and $g$ are both one-to-one correspondences, then $(g\circ f)^{-1}=f^{-1}\circ g^{-1}$.
\end{theorem}

\end{section}
